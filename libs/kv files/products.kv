#:import MDTextFieldPersianrect libs.py_files.persianuixrect.MDTextFieldPersianrect


<Product@ScreenManager>:
    transition: WipeTransition()
    Product_first:
        id: _Product_first
    Product_detail:
        id: _Product_detail
#________________________
<Product_first@MDScreen>:
    name: 'Product_first'
    FitImage:
        source: "image/bg.jpg"

    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_light
        MDTopAppBar:
            title: 'Product Manager'
            specific_text_color: app.theme_cls.primary_dark
            md_bg_color: app.theme_cls.primary_light
            elevation: 0
            right_action_items: [['magnify', lambda x: app.root.search_action()]]

        ScrollView:
            do_scroll_x: False
            effect_cls: 'ScrollEffect'
            MDGridLayout:
                cols: 4
                spacing: '5dp'
                adaptive_height: True                
                padding: ('5dp', '5dp', '0dp', '5dp')
                pos_hint: {'center_x': .5, 'center_y': .5}
                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) # dp(25) come from: (spacing + left padding) 4 * dp(5) + dp(5)
                    source: "image/01.jpg"
                    text:"Hats and Masks"
                    on_press:
                        app.root.open_category_table(self.text)
                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) 
                    source: "image/02.jpg"
                    text:"Sport Gloves"
                    on_press:
                        app.root.open_category_table(self.text)

                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) 
                    source: "image/03.jpg"
                    text:"Swimming Accessories"
                    on_press:
                        app.root.open_category_table(self.text)
                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) 
                    source: "image/04.jpg"
                    text:"Pilates and Fitness"
                    on_press:
                        app.root.open_category_table(self.text)
                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) 
                    source: "image/05.jpg"
                    text:"Bottles and Shakers"
                    on_press:
                        app.root.open_category_table(self.text)
                Product_first_MDSmartTile:
                    size_hint: None,None
                    size: (root.width - dp(25)) / 4, (root.width - dp(25))/ 4 + dp(68) 
                    source: "image/06.jpg"
                    text:"Jump Ropes"
                    on_press:
                        app.root.open_category_table(self.text)
<Product_first_MDSmartTile>:
    radius: [24, 24, 0, 0]
    box_radius: [0, 0, 24, 24]
    box_color: app.theme_cls.primary_dark #0, 0, 0, .2#
    pos_hint: {"center_x": .5, "center_y": .5}
    overlap: False
    text: ''
    MDLabel:
        text: root.text
        bold: True
        color: 1, 1, 1, 1
        #theme_text_color: 'Custom'
        #text_color: 'black'
#
<Product_table>:
    #name: 'Product_table'
    FitImage:
        source: "image/bg.jpg"
    MDBoxLayout:
        id: _Product_table_MDBoxLayout
        orientation: 'vertical'
        #md_bg_color: app.theme_cls.primary_light
        MDTopAppBar:
            id: _Product_table_MDTopAppBar
            #title: 'Product Manager'
            specific_text_color: app.theme_cls.primary_dark
            md_bg_color: app.theme_cls.primary_light
            elevation: 0
            right_action_items: [['arrow-left', lambda x: app.root.back_Product_first()], ['magnify', lambda x: app.root.search_action()]]
#
<Product_detail>:
    name: 'Product_detail'
    mgr1: _Product_detail_Box
    FitImage:
        source: "image/bg.jpg"
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_light

        MDTopAppBar:
            id: .....
            title: 'Product_detail'
            specific_text_color: app.theme_cls.primary_dark
            md_bg_color: app.theme_cls.primary_light
            elevation: 0
            right_action_items: [['arrow-left', lambda x: app.root.back_Product_first()]]            

        ScrollView:
            do_scroll_x: False
            effect_cls: 'ScrollEffect'
            MDBoxLayout:
                id: _Product_detail_Box
                orientation:'vertical'
                adaptive_height: True

                MDGridLayout:
                    md_bg_color: app.theme_cls.primary_light
                    id: _Product_detail_Gr
                    cols: 8
                    row_default_height: (self.width - self.cols*self.spacing[0]) / self.cols 
                    row_force_default: True
                    col_default_width: (self.width - self.cols*self.spacing[0]) / self.cols

                    adaptive_height: True
                    padding: dp(2), dp(2)
                    spacing: dp(2)

<Product_detail_image>:
    orientation: 'vertical'
    source: ''
    md_bg_color: 'white'
    icon_color: 'red'

    MDIconButton:
        icon: 'close-circle'
        icon_size: "18sp"
        theme_icon_color: "Custom"
        icon_color: root.icon_color
        size_hint_y: .15
        on_press:
            app.root.remove_image_from_host(root.source)        
    AsyncImage:
        source: root.source
        size_hint_y: .85

<Product_detail_BoxLayout>:
    mgr1: _Product_Details_MDTopAppBar
    mgr2: _Variant_Inventory_MDTopAppBar
    mgr3: _Product_Details_MDCard
    mgr4: _Variant_Inventory_BoxLayout
    orientation:'vertical'
    size_hint_y: None
    height: self.minimum_height  
    padding:mm(2), mm(2), mm(2), mm(20)
    spacing: '10dp'
    title: ''
    category: ''
    dkp: ''
    code: ''
    material: ''
    country: ''
    type: ''
    dt1: ''
    dt2: ''
    dt3: ''
    dt4: ''

    MDCard:
        orientation: 'vertical'
        size_hint: 1, None
        size: self.minimum_size
        spacing: dp(8)
        padding: ('15dp', '0dp', '15dp', '5dp')
        MDTopAppBar:
            id: _Variant_Inventory_MDTopAppBar
            size_hint: 1, None
            height: "50dp"
            title: 'Variant Inventory'
            markup: True
            specific_text_color: app.theme_cls.primary_dark
            md_bg_color: "white"#app.theme_cls.primary_light
            elevation: 0
            right_action_items: [['pencil', lambda x: app.root.Variant_Inventory_edit_action(), 'edit_button'], ['content-save', lambda x: app.root.Variant_Inventory_save_action(), 'save_button']]

        BoxLayout:
            orientation:'horizontal'
            size_hint_y: None
            height: "30dp"
            padding: ('0dp', '0dp', '0dp', '10dp')
            MDLabel:
                text: 'Color/Size'
            MDLabel:
                text: 'Code'
            MDLabel:
                text: 'Stock'
            MDLabel:
                text: 'Price'
            MDLabel:
                text: 'Disc.'
            MDLabel:
                text: 'Price Disc.'

        Widget1:
        BoxLayout:
            id: _Variant_Inventory_BoxLayout
            orientation:'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: '5dp'
    MDCard:
        id: _Product_Details_MDCard
        orientation: 'vertical'
        size_hint: 1, None
        size: self.minimum_size
        spacing: dp(8)
        padding: ('15dp', '0dp', '15dp', '15dp')

        MDTopAppBar:
            id: _Product_Details_MDTopAppBar
            size_hint: 1, None
            height: "50dp"
            title: 'Product Details'
            markup: True
            specific_text_color: app.theme_cls.primary_dark
            md_bg_color: "white"#app.theme_cls.primary_light
            elevation: 0
            right_action_items: [['pencil', lambda x: app.root.Product_Details_edit_action(), 'edit_button'], ['content-save', lambda x: app.root.Product_Details_save_action(), 'save_button']]

        MDBoxLayout:
            orientation:'horizontal'  
            size_hint: 1, None
            height: "70dp"
            MDTextFieldPersianrect:
                multiline: False
                font_name: 'font/IRANSansXFaNum-Medium.ttf'
                hint_text:  "Category"#get_display(arabic_reshaper.reshape('  : '))                   
                text: root.category
                disabled: True
                hint_text_color_normal: app.theme_cls.primary_dark
                hint_text_color_focus: app.theme_cls.primary_dark
                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1

                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1


            MDTextFieldPersianrect:
                multiline: False
                font_name: 'font/IRANSansXFaNum-Medium.ttf'
                hint_text:  "DKP" #get_display(arabic_reshaper.reshape(':DKP '))                   
                text: root.dkp
                disabled: True
                hint_text_color_normal: app.theme_cls.primary_dark
                hint_text_color_focus: app.theme_cls.primary_dark
                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1

                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1


            MDTextFieldPersianrect:
                id: _last_name
                #base_direction: 'rtl'
                multiline: False
                font_name: 'font/IRANSansXFaNum-Medium.ttf'
                hint_text:  "Product Code" #get_display(arabic_reshaper.reshape(':DKP '))                   
                text: root.code
                disabled: True
                hint_text_color_normal: app.theme_cls.primary_dark
                hint_text_color_focus: app.theme_cls.primary_dark
                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1

                line_color_normal: app.theme_cls.primary_dark
                text_color_normal: app.theme_cls.primary_dark
                text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            multiline: False
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "35dp"
            hint_text:  "Title" #get_display(arabic_reshaper.reshape(' Title: '))                   
            text: root.title
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1
        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: False
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "35dp"
            hint_text:  "Product material" #get_display(arabic_reshaper.reshape(':DKP '))                   
            text: root.material
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: False
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "35dp"
            hint_text:  "Manufacturing Country" #get_display(arabic_reshaper.reshape(':DKP '))                   
            text: root.country
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: False
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "35dp"
            hint_text:  "Product Type" #get_display(arabic_reshaper.reshape(':DKP '))                   
            text: root.type
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: True
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "70dp"
            hint_text:  "Details 1" #get_display(arabic_reshaper.reshape(':DKP '))  
            text: root.dt1   
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: True
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "70dp"
            hint_text:  "Details 2" #get_display(arabic_reshaper.reshape(':DKP '))   
            text: root.dt2   
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:
            id: _last_name
            #base_direction: 'rtl'
            multiline: True
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "70dp"
            hint_text:  "Details 3" #get_display(arabic_reshaper.reshape(':DKP '))     
            text: root.dt3   
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

        MDTextFieldPersianrect:        
            id: _last_name
            #base_direction: 'rtl'
            multiline: True
            font_name: 'font/IRANSansXFaNum-Medium.ttf'
            size_hint: 1, None
            height: "70dp"
            hint_text:  "Details 4" #get_display(arabic_reshaper.reshape(':DKP '))                   
            text: root.dt4
            disabled: True
            hint_text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            hint_text_color_focus: 0,0,0,1#app.theme_cls.primary_dark
            line_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_normal: 0,0,0,1#app.theme_cls.primary_dark
            text_color_focus: 0,0,0,1

<Product_detail_Variations>:
    orientation:'horizontal'
    text: ''
    code: ''
    spacing: '10dp'
    text_stock: ''
    text_price: ''
    text_disc: '0'
    text_price_disc: ''
    MDLabel:
        text: root.text
        font_name: 'font/IRANSansXFaNum-Medium.ttf'
        halign: "center"
    MDLabel:
        text: root.code
    MDTextFieldRect:
        id: _Stock
        multiline: False
        font_name: 'font/IRANSansXFaNum-Medium.ttf'
        hint_text:  "Stock"  
        disabled: True
        text: root.text_stock
    MDTextFieldRect:
        id: _Price
        multiline: False
        font_name: 'font/IRANSansXFaNum-Medium.ttf'
        hint_text:  "Price" 
        disabled: True
        text: root.text_price
    MDTextFieldRect:
        id: _Disc
        multiline: False
        font_name: 'font/IRANSansXFaNum-Medium.ttf'
        hint_text:  "Disc." 
        disabled: True
        text: root.text_disc
    MDTextFieldRect:
        multiline: False
        font_name: 'font/IRANSansXFaNum-Medium.ttf'
        hint_text:  "Price Disc." 
        disabled: True
        text: root.text_price_disc
